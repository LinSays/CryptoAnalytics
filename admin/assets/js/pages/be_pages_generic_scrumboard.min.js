/*!
 * codebase - v4.3.0
 * @author pixelcave - https://pixelcave.com
 * Copyright (c) 2021
 */
!function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t,a,r,i,o,s,n=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}var d,c;return d=n,c=[{key:"initScrumBoard",value:function(){t=jQuery(".js-scrumboard"),jQuery("#main-container").addClass("d-flex align-items-stretch"),t.fadeTo(1e3,1)}},{key:"cardAdd",value:function(){var e=this;t.on("submit.cb.sb.card.add",'form[data-toggle="sb-card-add"]',(function(t){t.preventDefault(),o=jQuery(t.currentTarget).find("input"),(s=o.prop("value"))&&(o.parents(".scrumboard-col").before('<div class="scrumboard-col block block-themed"><div class="block-header bg-primary"><h3 class="block-title font-w600">'+jQuery("<span />").text(s).html()+'</h3><div class="block-options"><div class="dropdown"><button type="button" class="btn-block-option" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-fw fa-ellipsis-v"></i></button><div class="dropdown-menu dropdown-menu-right"><a class="dropdown-item" href="javascript:void(0)"><i class="fa fa-fw fa-pencil mr-5"></i>Edit</a><div class="dropdown-divider"></div><a class="dropdown-item" href="javascript:void(0)" data-toggle="block-option" data-action="close"><i class="fa fa-fw fa-times text-danger mr-5"></i>Delete</a></div></div></div></div><div class="block-content block-content-full bg-body-light"><form class="w-100" method="post" data-toggle="sb-item-add"><div class="input-group"><div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-lightbulb-o"></i></span></div><input type="text" class="form-control" placeholder="New Idea.."></div></form></div><div class="scrumboard-items block-content"></div></div>'),o.prop("value",""),e.initDraggableItems("refresh"))}))}},{key:"itemAdd",value:function(){var e=this;t.on("submit.cb.sb.item.add",'form[data-toggle="sb-item-add"]',(function(t){t.preventDefault(),a=jQuery(t.currentTarget).parents(".scrumboard-col").find(".scrumboard-items"),r=jQuery(t.currentTarget).find("input"),(i=r.prop("value"))&&(a.prepend('<div class="scrumboard-item"><div class="scrumboard-item-options"><a class="scrumboard-item-handler btn btn-sm btn-alt-warning" href="javascript:void(0)"><i class="fa fa-hand-grab-o"></i></a> <button class="btn btn-sm btn-alt-warning" data-toggle="sb-item-remove"><i class="fa fa-close"></i></button></div><div class="scrumboard-item-content">'+jQuery("<span />").text(i).html()+"</div></div>"),r.prop("value","").focus(),e.initDraggableItems("refresh"))}))}},{key:"itemRemove",value:function(){t.on("click.cb.sb.item.remove",'button[data-toggle="sb-item-remove"]',(function(e){jQuery(e.currentTarget).parents(".scrumboard-item").remove()}))}},{key:"initDraggableItems",value:function(e){"refresh"===e?(jQuery(".scrumboard-items.js-draggable-enabled").sortable("destroy"),this.initDraggableItems()):jQuery(".scrumboard-items").addClass("js-draggable-enabled").sortable({connectWith:".scrumboard-items",items:".scrumboard-item",dropOnEmpty:!0,opacity:.75,handle:".scrumboard-item-handler",placeholder:"scrumboard-item-placeholder",tolerance:"pointer",start:function(e,t){t.placeholder.css({height:t.item.outerHeight(),"margin-bottom":t.item.css("margin-bottom")})}})}},{key:"init",value:function(){this.initScrumBoard(),this.cardAdd(),this.itemAdd(),this.itemRemove(),this.initDraggableItems()}}],null&&e(d.prototype,null),c&&e(d,c),n}();jQuery((function(){n.init()}))}();