/*!
 * codebase - v4.3.0
 * @author pixelcave - https://pixelcave.com
 * Copyright (c) 2021
 */
!function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t,a,n,i,r,o,c,u,h,l,s=function(){function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s)}var d,g;return d=s,g=[{key:"initChat",value:function(){var e=this;t=jQuery(window),a=jQuery("#page-header"),n=jQuery("#page-footer"),i=jQuery(".js-chat-container"),r=i.data("chat-height"),o=jQuery(".js-chat-head"),c=jQuery(".js-chat-talk"),u=jQuery(".js-chat-people"),h=jQuery(".js-chat-form"),"auto"===r?jQuery(window).on("resize.cb.chat orientationchange.cb.chat",(function(t){clearTimeout(l),l=setTimeout((function(t){e.initChatWindows()}),150)})).triggerHandler("resize.cb.chat"):e.initChatWindows(r),c.scrollLock("enable"),u.length&&u.scrollLock("enable"),jQuery("form",h).on("submit",(function(t){t.preventDefault();var a=jQuery(".js-chat-input",jQuery(t.currentTarget));e.chatAddMessage(a.data("target-chat-id"),a.val(),"self",a)}))}},{key:"initChatWindows",value:function(e){var r;(r=e?parseInt(e):t.height()-(a.length?a.outerHeight():0)-(n.length?n.outerHeight():0)-(parseInt(i.css("padding-top"))+parseInt(i.css("padding-bottom")))-o.outerHeight())<200&&(r=200),c.css("height",r-h.outerHeight()),u.length&&u.css("height",r)}},{key:"chatAddHeader",value:function(e,t){var a=jQuery('.js-chat-talk[data-chat-id="'+e+'"]');t&&a.length&&(a.append('<div class="font-size-sm font-italic text-muted text-center mt-20 mb-10">'+jQuery("<div />").text(t).html()+"</div>"),a.animate({scrollTop:a[0].scrollHeight},150))}},{key:"chatAddMessage",value:function(e,t,a,n){var i=jQuery('.js-chat-talk[data-chat-id="'+e+'"]');t&&i.length&&(i.append('<div class="rounded font-w600 p-10 mb-10 animated fadeIn '+("self"===a?"ml-50 bg-primary-lighter text-primary-darker":"mr-50 bg-body-light")+'">'+jQuery("<div />").text(t).html()+"</div>"),i.animate({scrollTop:i[0].scrollHeight},150),n&&n.val(""))}},{key:"init",value:function(){this.initChat()}},{key:"addHeader",value:function(e,t){this.chatAddHeader(e,t)}},{key:"addMessage",value:function(e,t,a){this.chatAddMessage(e,t,a,!1)}}],null&&e(d.prototype,null),g&&e(d,g),s}();jQuery((function(){s.init(),window.BeCompChat=s}))}();